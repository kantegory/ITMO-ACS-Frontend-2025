import{u as p,r as b,o as m,x as v,p as h,w as i,a as l,d as s,i as g,j as k,g as y,t as o,h as n,k as f}from"./index-CsuvI77A.js";const w={class:"container mt-5"},x={"aria-label":"breadcrumb"},V={class:"breadcrumb"},W={class:"breadcrumb-item"},A={class:"breadcrumb-item active","aria-current":"page"},B={key:0},C={class:"row"},L={class:"col-md-8"},M=["src","alt"],N={class:"mb-3"},S={class:"d-flex gap-3 mb-4"},T={class:"badge bg-primary p-2"},j={class:"badge bg-secondary p-2"},E={class:"badge bg-info p-2"},H={class:"lead"},P={class:"list-group mb-4"},R=["innerHTML"],D={key:1,class:"text-center"},F={__name:"WorkoutView",setup(q){const d=v(),c=h(),r=p(),e=b(null);m(async()=>{const a=d.params.id;if(!a){c.push("/");return}e.value=await i.getWorkoutPlan(a)});const u=async()=>{if(!r.token){alert("Error: not auth");return}(await i.addWorkoutPlan(e.value.id,r.token)).success?alert("Успех! Тренировка засчитана, статистика в профиле обновлена."):alert("Ошибка. Не удалось записать тренировку.")};return(a,t)=>{const _=y("router-link");return n(),l("div",w,[s("nav",x,[s("ol",V,[s("li",W,[g(_,{to:"/"},{default:k(()=>[...t[0]||(t[0]=[f("Тренировки",-1)])]),_:1})]),s("li",A,o(e.value?.title||"Текущая тренировка"),1)])]),e.value?(n(),l("div",B,[s("div",C,[s("div",L,[s("img",{src:e.value.image,class:"img-fluid rounded mb-4 w-100",style:{"max-height":"400px","object-fit":"cover"},alt:e.value.title},null,8,M),s("h2",N,o(e.value.title),1),s("div",S,[s("span",T,"Уровень: "+o(e.value.level),1),s("span",j,"Время: "+o(e.value.duration)+" мин",1),s("span",E,"Тип: "+o(e.value.type),1)]),s("p",H,o(e.value.description),1),t[1]||(t[1]=s("hr",{class:"my-4"},null,-1)),t[2]||(t[2]=s("h4",null,"Программа упражнений",-1)),s("div",P,[s("div",{innerHTML:e.value.content},null,8,R)])]),s("div",{class:"col-md-4"},[s("div",{class:"card shadow-sm"},[s("div",{class:"card-body"},[t[3]||(t[3]=s("h5",{class:"card-title"},"Действия",-1)),t[4]||(t[4]=s("p",{class:"card-text"},"Начните эту тренировку прямо сейчас и отслеживайте свой прогресс.",-1)),s("button",{onClick:u,class:"btn btn-success w-100 btn-lg mb-2"},"Начать тренировку"),t[5]||(t[5]=s("button",{class:"btn btn-outline-secondary w-100"},"Добавить в избранное",-1))])])])])])):(n(),l("div",D,[...t[6]||(t[6]=[s("div",{class:"spinner-border text-primary",role:"status"},[s("span",{class:"visually-hidden"},"Loading...")],-1)])]))])}}};export{F as default};
