<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è - –ö—É–ª–∏–Ω–∞—Ä–Ω–æ–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="index.css" />
    <link rel="stylesheet" href="dark.css" media="(prefers-color-scheme: dark)">
    <link rel="stylesheet" href="light.css" media="(prefers-color-scheme: light)">
  </head>
  <body>
    <nav class="navbar navbar-expand-lg shadow-sm">
      <div class="container">
        <a class="navbar-brand text-danger fw-bold" href="index.html"
          >üç≥ –ö—É–ª–∏–Ω–∞—Ä–Ω–æ–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ</a
        >
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="search.html">–ü–æ–∏—Å–∫ —Ä–µ—Ü–µ–ø—Ç–æ–≤</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="login.html">–í—Ö–æ–¥</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="register.html">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main class="container my-5">
      <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6">
          <div class="card shadow-sm border-0">
            <div class="card-body p-4">
              <div class="text-center mb-4">
                <h2 class="card-title text-danger mb-2">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</h2>
                <p class="text-muted">
                  –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –Ω–∞—à–µ–º—É –∫—É–ª–∏–Ω–∞—Ä–Ω–æ–º—É —Å–æ–æ–±—â–µ—Å—Ç–≤—É
                </p>
              </div>

              <form id="registerForm">
                <div class="mb-3">
                  <label for="username" class="form-label"
                    >–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è *</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="username"
                    placeholder="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
                    required
                  />
                  <div class="form-text">
                    –≠—Ç–æ –∏–º—è –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ –≤–∞—à–µ–º –ø—Ä–æ—Ñ–∏–ª–µ
                  </div>
                </div>

                <div class="mb-3">
                  <label for="email" class="form-label">Email *</label>
                  <input
                    type="email"
                    class="form-control"
                    id="email"
                    placeholder="–í–∞—à email"
                    required
                  />
                </div>

                <div class="mb-3">
                  <label for="profilePicture" class="form-label">–°—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–æ—Ç–æ</label>
                  <input
                    type="text"
                    class="form-control"
                    id="profilePicture"
                    placeholder="–í–∞—à–µ —Ñ–æ—Ç–æ"
                  />
                </div>

                <div class="mb-3">
                  <label for="bio" class="form-label">–í–∞—à–∞ –±–∏–æ–≥—Ä–∞—Ñ–∏—è</label>
                  <textarea class="form-control" placeholder="" id="bio" style="height: 100px"></textarea>
                </div>

                <div class="mb-3">
                  <label for="password" class="form-label">–ü–∞—Ä–æ–ª—å *</label>
                  <input
                    type="password"
                    class="form-control"
                    id="password"
                    placeholder="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å"
                    required
                  />
                  <div class="form-text">–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤</div>
                </div>

                <div class="mb-3">
                  <label for="confirmPassword" class="form-label"
                    >–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è *</label
                  >
                  <input
                    type="password"
                    class="form-control"
                    id="confirmPassword"
                    placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å"
                    required
                  />
                </div>

                <div class="mb-3 form-check">
                  <input
                    type="checkbox"
                    class="form-check-input"
                    id="agreeTerms"
                    required
                  />
                  <label class="form-check-label" for="agreeTerms">
                    –Ø —Å–æ–≥–ª–∞—à–∞—é—Å—å —Å
                    <a
                      href="#"
                      class="text-danger text-decoration-none"
                      data-bs-toggle="modal"
                      data-bs-target="#termsModal"
                      >—É—Å–ª–æ–≤–∏—è–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a
                    >
                  </label>
                </div>

                <button type="submit" class="btn btn-danger w-100 py-2 mb-3">
                  –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
                </button>
              </form>

              <div class="text-center">
                <p class="mb-0">
                  –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç?
                  <a href="login.html" class="text-danger text-decoration-none"
                    >–í–æ–π–¥–∏—Ç–µ</a
                  >
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <div class="modal fade" id="termsModal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body">
            <p>
              –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—è—Å—å –≤ –Ω–∞—à–µ–º —Å–æ–æ–±—â–µ—Å—Ç–≤–µ, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏
              –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Ä–µ—Ü–µ–ø—Ç–æ–≤ –∏ —É—á–∞—Å—Ç–∏—è –≤ –æ–±—Å—É–∂–¥–µ–Ω–∏—è—Ö.
            </p>
            <p class="mb-0">
              –ú—ã —É–≤–∞–∂–∞–µ–º –≤–∞—à—É –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –∏ –æ–±—è–∑—É–µ–º—Å—è –∑–∞—â–∏—â–∞—Ç—å –≤–∞—à–∏
              –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
            </p>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              –ó–∞–∫—Ä—ã—Ç—å
            </button>
          </div>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="index.js"></script>
    <script>
      const registerForm = document.querySelector("#registerForm");

      registerForm.addEventListener("submit", async (e) => {
        e.preventDefault();

        const username = registerForm.elements["username"].value;
        const email = registerForm.elements["email"].value;
        const profile_picture = registerForm.elements["profilePicture"].value;
        const bio = registerForm.elements["bio"].value;
        const password = registerForm.elements["password"].value;

        const response = await fetch("http://localhost/api/users/register", {
          method: "POST",
          body: JSON.stringify({ username, email, password, bio, profile_picture }),
          headers: {
            accept: "application/json",
            "Content-Type": "application/json",
          },
        });

        if (response.status === 201) {
          window.location.href = "login.html";
        }
      });
    </script>
  </body>
</html>
