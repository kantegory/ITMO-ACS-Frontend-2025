<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ—Ñ–∏–ª—å - –ö—É–ª–∏–Ω–∞—Ä–Ω–æ–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="dark.css" media="(prefers-color-scheme: dark)">
    <link rel="stylesheet" href="light.css" media="(prefers-color-scheme: light)">
</head>
<body>
    <nav class="navbar navbar-expand-lg shadow-sm">
        <div class="container">
            <a class="navbar-brand text-danger fw-bold" href="index.html">üç≥ –ö—É–ª–∏–Ω–∞—Ä–Ω–æ–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="search.html">–ü–æ–∏—Å–∫ —Ä–µ—Ü–µ–ø—Ç–æ–≤</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="profile.html">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a>
                    </li>
                </ul>
                <div class="navbar-nav">
                    <div class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" role="button" data-bs-toggle="dropdown">
                            <span id="userNameNav">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="profile.html">–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</a></li>
                            <li><a class="dropdown-item" href="#">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item text-danger" href="#" id="logoutBtn">–í—ã–π—Ç–∏</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <main class="container my-5">
        <div class="row">
            <div class="col-lg-4 mb-4">
                <div class="card shadow-sm border-0 mb-4">
                    <div class="card-body text-center">
                        <div class="position-relative d-inline-block mb-3">
                            <img src="https://static.vecteezy.com/system/resources/previews/024/983/914/large_2x/simple-user-default-icon-free-png.png" alt="User image" id="userImage" height="100" width="100" style="border-radius: 100px; object-fit: cover;">
                        </div>
                        <h4 class="card-title mb-1" id="userName">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</h4>
                        <p class="text-muted mb-1" id="userEmail">email@example.com</p>
                        <p class="strong mb-3" id="userBio">Bio</p>
                        
                        <div class="row text-center mb-3">
                            <div class="col-4">
                                <div class="">
                                    <div class="h5 mb-1 text-danger" id="recipesCount">2</div>
                                    <small class="text-muted">–†–µ—Ü–µ–ø—Ç–∞</small>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="">
                                    <div class="h5 mb-1 text-danger" id="followersCount">10</div>
                                    <small class="text-muted">–ü–æ–¥–ø–∏—Å—á–∏–∫–æ–≤</small>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="h5 mb-1 text-danger" id="followingCount">20</div>
                                <small class="text-muted">–ü–æ–¥–ø–∏—Å–æ–∫</small>
                            </div>
                        </div>
                        
                        <button class="btn btn-danger w-100">
                            –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
                        </button>
                    </div>
                </div>

                <div class="card shadow-sm border-0">
                    <div class="card-body">
                        <div class="nav flex-column">
                            <a class="nav-link active d-flex align-items-center py-2" href="#my-recipes" data-bs-toggle="tab">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-book-half me-2" viewBox="0 0 16 16">
                                    <path d="M8.5 2.687c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783"/>
                                </svg>
                                <span>–ú–æ–∏ —Ä–µ—Ü–µ–ø—Ç—ã</span>
                            </a>
                            <a class="nav-link d-flex align-items-center py-2" href="#saved-recipes" data-bs-toggle="tab">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bookmark-fill me-2" viewBox="0 0 16 16">
                                    <path d="M2 2v13.5a.5.5 0 0 0 .74.439L8 13.069l5.26 2.87A.5.5 0 0 0 14 15.5V2a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2"/>
                                </svg>
                                <span>–°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ</span>
                            </a>
                            <a class="nav-link d-flex align-items-center py-2" href="#favorites" data-bs-toggle="tab">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill me-2" viewBox="0 0 16 16">
                                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                </svg>
                                <span>–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</span>
                            </a>
                            <a class="nav-link d-flex align-items-center py-2" href="#followers" data-bs-toggle="tab">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-people-fill me-2" viewBox="0 0 16 16">
                                    <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6m-5.784 6A2.24 2.24 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.3 6.3 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1zM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5"/>
                                </svg>
                                <span></span>–ü–æ–¥–ø–∏—Å—á–∏–∫–∏</span>
                            </a>
                            <a class="nav-link d-flex align-items-center py-2" href="#following" data-bs-toggle="tab">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-rss-fill me-2" viewBox="0 0 16 16">
                                    <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm1.5 2.5c5.523 0 10 4.477 10 10a1 1 0 1 1-2 0 8 8 0 0 0-8-8 1 1 0 0 1 0-2m0 4a6 6 0 0 1 6 6 1 1 0 1 1-2 0 4 4 0 0 0-4-4 1 1 0 0 1 0-2m.5 7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3"/>
                                </svg>
                                <span></span>–ü–æ–¥–ø–∏—Å–∫–∏</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-8">
                <div class="tab-content">
                    <div class="tab-pane fade show active" id="my-recipes">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h4 class="mb-0">–ú–æ–∏ —Ä–µ—Ü–µ–ø—Ç—ã</h4>
                            <button class="btn btn-danger">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-plus-circle mb-1 me-1" viewBox="0 0 16 16">
                                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                                    <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"/>
                                </svg>
                                <span>–î–æ–±–∞–≤–∏—Ç—å —Ä–µ—Ü–µ–ø—Ç</span>
                            </button>
                        </div>

                        <div class="row px-3 mb-4" id="myRecipesGrid">
                            <a class="nav-link col me-4" href="recipe.html">
                                <div class="card p-4">
                                    <img src="https://img.freepik.com/free-photo/top-view-table-full-food_23-2149209253.jpg?t=st=1763757351~exp=1763760951~hmac=73f4ed9da6e37e38ea22f47537a14bb9758f4631988d69e3ad390fecfded46a3&w=1480" class="card-img-top" alt="...">
                                    <div class="mt-4">
                                        <h5 class="card-title">–ë—ã—Å—Ç—Ä—ã–π —Ä–µ—Ü–µ–ø—Ç</h5>
                                        <p class="card-text">–û–ø–∏—Å–∞–Ω–∏–µ –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–µ—Ü–µ–ø—Ç–∞</p>
                                    </div>
                                </div>
                            </a>
                            <a class="nav-link col" href="recipe.html">
                                <div class="card p-4">
                                    <img src="https://img.freepik.com/free-photo/top-view-table-full-food_23-2149209253.jpg?t=st=1763757351~exp=1763760951~hmac=73f4ed9da6e37e38ea22f47537a14bb9758f4631988d69e3ad390fecfded46a3&w=1480" class="card-img-top" alt="...">
                                    <div class="mt-4">
                                        <h5 class="card-title">–í–∫—É—Å–Ω—ã–π —Ä–µ—Ü–µ–ø—Ç</h5>
                                        <p class="card-text">–û–ø–∏—Å–∞–Ω–∏–µ –≤–∫—É—Å–Ω–æ–≥–æ —Ä–µ—Ü–µ–ø—Ç–∞</p>
                                    </div>
                                </div>
                            </a>
                        </div>
                        
                    </div>

                    <div class="tab-pane fade" id="saved-recipes">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h4 class="mb-0">–°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã</h4>
                            <span class="badge bg-secondary" id="savedCount">2 —Ä–µ—Ü–µ–ø—Ç–∞</span>
                        </div>
                        
                        <div class="row px-3 mb-4" id="savedRecipesGrid">
                            <a class="nav-link col me-4" href="recipe.html">
                                <div class="card p-4">
                                    <img src="https://img.freepik.com/free-photo/top-view-table-full-food_23-2149209253.jpg?t=st=1763757351~exp=1763760951~hmac=73f4ed9da6e37e38ea22f47537a14bb9758f4631988d69e3ad390fecfded46a3&w=1480" class="card-img-top" alt="...">
                                    <div class="mt-4">
                                        <h5 class="card-title">–ë—ã—Å—Ç—Ä—ã–π —Ä–µ—Ü–µ–ø—Ç</h5>
                                        <p class="card-text">–û–ø–∏—Å–∞–Ω–∏–µ –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–µ—Ü–µ–ø—Ç–∞</p>
                                    </div>
                                </div>
                            </a>
                            <a class="nav-link col" href="recipe.html">
                                <div class="card p-4">
                                    <img src="https://img.freepik.com/free-photo/top-view-table-full-food_23-2149209253.jpg?t=st=1763757351~exp=1763760951~hmac=73f4ed9da6e37e38ea22f47537a14bb9758f4631988d69e3ad390fecfded46a3&w=1480" class="card-img-top" alt="...">
                                    <div class="mt-4">
                                        <h5 class="card-title">–í–∫—É—Å–Ω—ã–π —Ä–µ—Ü–µ–ø—Ç</h5>
                                        <p class="card-text">–û–ø–∏—Å–∞–Ω–∏–µ –≤–∫—É—Å–Ω–æ–≥–æ —Ä–µ—Ü–µ–ø—Ç–∞</p>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>

                    <div class="tab-pane fade" id="favorites">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h4 class="mb-0">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</h4>
                            <span class="badge bg-secondary" id="favoritesCount">0 —Ä–µ—Ü–µ–ø—Ç–æ–≤</span>
                        </div>
                        
                        <div class="row" id="favoritesGrid">
                        </div>
                    </div>

                    <div class="tab-pane fade" id="followers">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h4 class="mb-0">–ü–æ–¥–ø–∏—Å—á–∏–∫–∏</h4>
                            <span class="badge bg-secondary" id="followersTotal">0 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤</span>
                        </div>
                        
                        <div class="card shadow-sm border-0">
                            <div class="card-body">
                                <div id="followersList">
                                    <div class="card p-4 mb-3">
                                        <div class="d-flex">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="55" height="55" fill="currentColor" class="bi bi-person-circle me-3" viewBox="0 0 16 16">
                                                <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
                                                <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"/>
                                            </svg>
                                            <div>
                                                <h5 class="card-title">–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤</h5>
                                                <p class="card-text">–®–µ—Ñ-–ø–æ–≤–∞—Ä</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card p-4 mb-3">
                                        <div class="d-flex">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="55" height="55" fill="currentColor" class="bi bi-person-circle me-3" viewBox="0 0 16 16">
                                                <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
                                                <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"/>
                                            </svg>
                                            <div>
                                                <h5 class="card-title">–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤</h5>
                                                <p class="card-text">–®–µ—Ñ-–ø–æ–≤–∞—Ä</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card p-4">
                                        <div class="d-flex">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="55" height="55" fill="currentColor" class="bi bi-person-circle me-3" viewBox="0 0 16 16">
                                                <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
                                                <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"/>
                                            </svg>
                                            <div>
                                                <h5 class="card-title">–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤</h5>
                                                <p class="card-text">–®–µ—Ñ-–ø–æ–≤–∞—Ä</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="tab-pane fade" id="following">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h4 class="mb-0">–ü–æ–¥–ø–∏—Å–∫–∏</h4>
                            <span class="badge bg-secondary" id="followingTotal">0 –ø–æ–¥–ø–∏—Å–æ–∫</span>
                        </div>
                        
                        <div class="card shadow-sm border-0">
                            <div class="card-body">
                                <div id="followingList">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="index.js"></script>
    <script>
        const access_token = localStorage.getItem("access_token");
        if (!access_token) {
            window.location.href = "login.html";
        }

        const usernameField = document.querySelector("#userName");
        const emailField = document.querySelector("#userEmail");
        const userImageField = document.querySelector("#userImage");
        const userBioField = document.querySelector("#userBio");

        fetch("http://localhost/api/users/me", {
          method: "GET",
          headers: {
            accept: "application/json",
            "Content-Type": "application/json",
            authorization: `Bearer ${access_token}`,
          },
        }).then(r => r.json().then(json => {
            usernameField.innerHTML = json["username"];
            emailField.innerHTML = json["email"];
            userImageField.src = json["profile_picture"];
            userBioField.innerHTML = json["bio"];
        }))

    </script>
</body>
</html>
