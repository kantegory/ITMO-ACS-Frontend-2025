<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Fitness Platform - Your personal workout and health tracking assistant">
    <title>Fitness Platform - Home</title>
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Стили для доступности */
        .visually-hidden {
            position: absolute !important;
            width: 1px !important;
            height: 1px !important;
            padding: 0 !important;
            margin: -1px !important;
            overflow: hidden !important;
            clip: rect(0, 0, 0, 0) !important;
            white-space: nowrap !important;
            border: 0 !important;
        }
        
        /* Улучшенные стили фокуса */
        button:focus-visible,
        a:focus-visible,
        input:focus-visible,
        select:focus-visible,
        [tabindex]:focus-visible {
            outline: 3px solid #4f86f7 !important;
            outline-offset: 3px !important;
            box-shadow: 0 0 0 4px rgba(79, 134, 247, 0.3) !important;
        }
        
        /* Убираем outline только при клике мышью */
        *:focus:not(:focus-visible) {
            outline: none !important;
        }
        
        .compact-quick-access .card-body {
            padding: 1rem !important;
        }
        
        .compact-quick-access .card-title {
            font-size: 1.1rem;
            margin-bottom: 1rem !important;
        }
        
        .compact-quick-access .btn-elegant {
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }
        
        /* Улучшение контраста */
        .text-muted {
            color: #5a6268 !important;
        }
        
        /* Полная красная рамка для обязательных полей */
        .form-control:required {
            border: 2px solid #dc3545 !important;
            background-color: rgba(220, 53, 69, 0.05);
        }
        
        .form-control:required:valid {
            border: 2px solid #198754 !important;
            background-color: rgba(25, 135, 84, 0.05);
        }
        
        .form-control:required:focus {
            border: 2px solid #dc3545 !important;
            box-shadow: 0 0 0 0.25rem rgba(220, 53, 69, 0.25) !important;
            background-color: rgba(220, 53, 69, 0.05);
        }
        
        .form-control:required:valid:focus {
            border: 2px solid #198754 !important;
            box-shadow: 0 0 0 0.25rem rgba(25, 135, 84, 0.25) !important;
            background-color: rgba(25, 135, 84, 0.05);
        }
        
        /* Placeholder стиль */
        .form-control:required::placeholder {
            color: #6c757d;
        }
    </style>
</head>
<body>
    <div class="container mt-5">
        <!-- Навигация по центру с ARIA атрибутами -->
        <header role="banner">
            <nav class="navbar navbar-transparent mb-4" role="navigation" aria-label="Main navigation">
                <div class="container-fluid justify-content-center">
                    <a class="navbar-brand elegant-title" href="index.html" aria-label="Fitness Platform - Home">
                        Fitness Platform
                    </a>
                </div>
            </nav>
        </header>

        <!-- Главное содержимое -->
        <main id="main-content" role="main">
            <div class="row justify-content-center">
                <div class="col-lg-10">
                    <!-- Кнопки Login и Register по центру -->
                    <div class="text-center mb-4">
                        <h1 class="visually-hidden">Fitness Platform - Your Personal Training Assistant</h1>
                        <div class="d-flex justify-content-center gap-3">
                            <button id="mainLoginBtn" 
                                    class="btn btn-primary-elegant btn-lg px-4"
                                    type="button"
                                    aria-label="Open login form"
                                    aria-haspopup="dialog">
                                <i class="fas fa-sign-in-alt me-2" aria-hidden="true"></i>
                                <span>Login</span>
                            </button>
                            <button id="mainRegisterBtn" 
                                    class="btn btn-secondary-elegant btn-lg px-4"
                                    type="button"
                                    aria-label="Open registration form"
                                    aria-haspopup="dialog">
                                <i class="fas fa-user-plus me-2" aria-hidden="true"></i>
                                <span>Register</span>
                            </button>
                        </div>
                    </div>

                    <div class="row g-4">
                        <!-- Quick Access карточка -->
                        <div class="col-md-4">
                            <section aria-labelledby="quick-access-heading">
                                <div class="card glass-card compact-quick-access">
                                    <div class="card-body">
                                        <h2 id="quick-access-heading" class="card-title elegant-heading light-blue-text">
                                            <i class="fas fa-bolt me-2" aria-hidden="true"></i>
                                            Quick Access
                                        </h2>
                                        <div class="d-grid gap-2" role="navigation" aria-label="Quick access links">
                                            <a href="pages/workouts.html" 
                                               class="btn btn-elegant"
                                               aria-label="Browse workout plans and exercises">
                                                <i class="fas fa-dumbbell me-2" aria-hidden="true"></i>
                                                Workouts
                                            </a>
                                            <a href="pages/blog.html" 
                                               class="btn btn-elegant"
                                               aria-label="Read fitness articles and tips">
                                                <i class="fas fa-blog me-2" aria-hidden="true"></i>
                                                Blog
                                            </a>
                                            <a href="pages/profile.html" 
                                               class="btn btn-elegant"
                                               aria-label="View and manage your profile">
                                                <i class="fas fa-user me-2" aria-hidden="true"></i>
                                                Profile
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </section>
                        </div>

                        <!-- Изображение с улучшенным alt текстом -->
                        <div class="col-md-8">
                            <figure class="photo-container">
                                <img src="images/workout.jpg" 
                                     alt="A person doing exercises in a modern gym with professional equipment"
                                     class="img-fluid rounded-lg elegant-image" 
                                     style="width: 100%;"
                                     loading="lazy"
                                     width="600"
                                     height="400">
                                <figcaption class="visually-hidden">Fitness motivation image showing workout in progress</figcaption>
                                <div class="image-overlay" aria-hidden="true"></div>
                            </figure>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Модальное окно для входа -->
    <div class="modal fade" 
         id="loginModal" 
         tabindex="-1" 
         aria-labelledby="loginModalLabel"
         aria-describedby="loginModalDesc"
         aria-modal="true"
         role="dialog">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content glass-card">
                <div class="modal-header border-0">
                    <h2 class="modal-title elegant-heading" id="loginModalLabel">Log In</h2>
                    <button type="button" 
                            class="btn-close" 
                            data-bs-dismiss="modal" 
                            aria-label="Close login form"></button>
                </div>
                <div class="modal-body">
                    <p id="loginModalDesc" class="visually-hidden">
                        Enter your credentials to access your fitness account and track your progress
                    </p>
                    <form id="loginForm" onsubmit="event.preventDefault(); handleLogin();" novalidate>
                        <div class="mb-3">
                            <label for="loginEmailInput" class="form-label">
                                Email address <span class="text-danger" aria-hidden="true">*</span>
                                <span class="visually-hidden">required field</span>
                            </label>
                            <input type="email" 
                                   class="form-control" 
                                   id="loginEmailInput" 
                                   required 
                                   placeholder="Enter your email"
                                   aria-required="true"
                                   aria-describedby="loginEmailHelp"
                                   autocomplete="email">
                            <div id="loginEmailHelp" class="form-text">
                                Required field - enter your registered email
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="loginPasswordInput" class="form-label">
                                Password <span class="text-danger" aria-hidden="true">*</span>
                                <span class="visually-hidden">required field</span>
                            </label>
                            <input type="password" 
                                   class="form-control" 
                                   id="loginPasswordInput" 
                                   required 
                                   placeholder="Enter your password"
                                   aria-required="true"
                                   aria-describedby="loginPasswordHelp"
                                   autocomplete="current-password">
                            <div id="loginPasswordHelp" class="form-text">
                                Required field - enter your password
                            </div>
                        </div>
                        <button type="submit" 
                                class="btn btn-form-primary w-100"
                                aria-label="Submit login form">
                            <i class="fas fa-sign-in-alt me-2" aria-hidden="true"></i>
                            <span>Log In</span>
                        </button>
                    </form>
                    <div class="text-center mt-3">
                        <p class="text-muted mb-0">
                            Don't have an account? 
                            <a href="pages/registration.html" 
                               class="light-blue-text" 
                               id="goToRegisterPage"
                               aria-label="Go to registration page">
                                Register here
                            </a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Модальное окно для регистрации -->
    <div class="modal fade" 
         id="registerModal" 
         tabindex="-1" 
         aria-labelledby="registerModalLabel"
         aria-describedby="registerModalDesc"
         aria-modal="true"
         role="dialog">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content glass-card">
                <div class="modal-header border-0">
                    <h2 class="modal-title elegant-heading" id="registerModalLabel">Create Account</h2>
                    <button type="button" 
                            class="btn-close" 
                            data-bs-dismiss="modal" 
                            aria-label="Close registration form"></button>
                </div>
                <div class="modal-body">
                    <p id="registerModalDesc" class="visually-hidden">
                        Create a new account to start tracking your fitness journey
                    </p>
                    <form id="registerForm" onsubmit="event.preventDefault(); handleRegistration();" novalidate>
                        <div class="mb-3">
                            <label for="firstNameInput" class="form-label">
                                First Name <span class="text-danger" aria-hidden="true">*</span>
                                <span class="visually-hidden">required field</span>
                            </label>
                            <input type="text" 
                                   class="form-control" 
                                   id="firstNameInput" 
                                   required 
                                   placeholder="Enter your first name"
                                   aria-required="true"
                                   aria-describedby="firstNameHelp"
                                   autocomplete="given-name">
                            <div id="firstNameHelp" class="form-text">
                                Required field
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="lastNameInput" class="form-label">
                                Last Name <span class="text-danger" aria-hidden="true">*</span>
                                <span class="visually-hidden">required field</span>
                            </label>
                            <input type="text" 
                                   class="form-control" 
                                   id="lastNameInput" 
                                   required 
                                   placeholder="Enter your last name"
                                   aria-required="true"
                                   aria-describedby="lastNameHelp"
                                   autocomplete="family-name">
                            <div id="lastNameHelp" class="form-text">
                                Required field
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="emailInput" class="form-label">
                                Email address <span class="text-danger" aria-hidden="true">*</span>
                                <span class="visually-hidden">required field</span>
                            </label>
                            <input type="email" 
                                   class="form-control" 
                                   id="emailInput" 
                                   required 
                                   placeholder="Enter your email"
                                   aria-required="true"
                                   aria-describedby="emailHelp"
                                   autocomplete="email">
                            <div id="emailHelp" class="form-text">
                                Required field - we'll never share your email
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="passwordInput" class="form-label">
                                Password <span class="text-danger" aria-hidden="true">*</span>
                                <span class="visually-hidden">required field</span>
                            </label>
                            <input type="password" 
                                   class="form-control" 
                                   id="passwordInput" 
                                   required 
                                   placeholder="Create a password"
                                   aria-required="true"
                                   aria-describedby="passwordHelp"
                                   autocomplete="new-password"
                                   minlength="6">
                            <div id="passwordHelp" class="form-text">
                                Required field - minimum 6 characters
                            </div>
                        </div>
                        <button type="submit" 
                                class="btn btn-form-primary w-100"
                                aria-label="Submit registration form">
                            <i class="fas fa-user-plus me-2" aria-hidden="true"></i>
                            <span>Create Account</span>
                        </button>
                    </form>
                    <div class="text-center mt-3">
                        <p class="text-muted mb-0">
                            Already have an account? 
                            <a href="pages/login.html" 
                               class="light-blue-text" 
                               id="goToLoginPage"
                               aria-label="Go to login page">
                                Log in here
                            </a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        var API_URL = 'http://localhost:3000/api';
    </script>
    <script src="script.js"></script>
    <script>
    (function() {
        'use strict';
        
        document.addEventListener('DOMContentLoaded', function() {
            const mainLoginBtn = document.getElementById('mainLoginBtn');
            const mainRegisterBtn = document.getElementById('mainRegisterBtn');
            const goToRegisterPage = document.getElementById('goToRegisterPage');
            const goToLoginPage = document.getElementById('goToLoginPage');
            
            if (!window.bootstrap) {
                console.error('Bootstrap not loaded');
                return;
            }
            
            const loginModalElement = document.getElementById('loginModal');
            const registerModalElement = document.getElementById('registerModal');
            
            if (loginModalElement) {
                const loginModal = new bootstrap.Modal(loginModalElement);
                
                if (mainLoginBtn) {
                    mainLoginBtn.addEventListener('click', function() {
                        loginModal.show();
                    });
                    
                    mainLoginBtn.addEventListener('keydown', function(e) {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            loginModal.show();
                        }
                    });
                }
            }
            
            if (registerModalElement) {
                const registerModal = new bootstrap.Modal(registerModalElement);
                
                if (mainRegisterBtn) {
                    mainRegisterBtn.addEventListener('click', function() {
                        registerModal.show();
                    });
                    
                    mainRegisterBtn.addEventListener('keydown', function(e) {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            registerModal.show();
                        }
                    });
                }
            }
            
            if (goToRegisterPage) {
                goToRegisterPage.addEventListener('click', function(e) {
                    const loginModalInstance = loginModalElement ? bootstrap.Modal.getInstance(loginModalElement) : null;
                    if (loginModalInstance) {
                        loginModalInstance.hide();
                    }
                });
            }
            
            if (goToLoginPage) {
                goToLoginPage.addEventListener('click', function(e) {
                    const registerModalInstance = registerModalElement ? bootstrap.Modal.getInstance(registerModalElement) : null;
                    if (registerModalInstance) {
                        registerModalInstance.hide();
                    }
                });
            }
            
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    const activeModal = document.querySelector('.modal.show');
                    if (activeModal) {
                        const modalInstance = bootstrap.Modal.getInstance(activeModal);
                        if (modalInstance) {
                            modalInstance.hide();
                        }
                    }
                }
            });
        });
    })();
    </script>
    <!-- Переключатель тем -->
<div class="theme-switcher" role="group" aria-label="Theme switcher">
    <div class="btn-group" role="group">
        <button type="button" 
                class="theme-btn btn btn-sm active" 
                data-theme="light"
                aria-label="Switch to light theme"
                aria-pressed="true">
            <i class="fas fa-sun me-1" aria-hidden="true"></i>
            <span class="d-none d-md-inline">Light</span>
        </button>
        <button type="button" 
                class="theme-btn btn btn-sm" 
                data-theme="dark"
                aria-label="Switch to dark theme"
                aria-pressed="false">
            <i class="fas fa-moon me-1" aria-hidden="true"></i>
            <span class="d-none d-md-inline">Dark</span>
        </button>
        <button type="button" 
                class="theme-btn btn btn-sm" 
                data-theme="pink"
                aria-label="Switch to pink theme"
                aria-pressed="false">
            <i class="fas fa-heart me-1" aria-hidden="true"></i>
            <span class="d-none d-md-inline">Pink</span>
        </button>
    </div>
</div>
</body>
</html>